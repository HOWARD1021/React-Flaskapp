# parse-json [![Build Status](https://travis-ci.org/sindresorhus/parse-json.svg?branch=master)](https://travis-ci.org/sindresorhus/parse-json)

> Parse JSON with more helpful errors


## Install

```
<<<<<<< Updated upstream
$ npm install --save parse-json
=======
$ npm install parse-json
>>>>>>> Stashed changes
```


## Usage

```js
<<<<<<< Updated upstream
var parseJson = require('parse-json');
var json = '{\n\t"foo": true,\n}';
=======
const parseJson = require('parse-json');
const json = '{\n\t"foo": true,\n}';
>>>>>>> Stashed changes


JSON.parse(json);
/*
undefined:3
}
^
SyntaxError: Unexpected token }
*/


parseJson(json);
/*
JSONError: Trailing comma in object at 3:1
}
^
*/


parseJson(json, 'foo.json');
/*
<<<<<<< Updated upstream
JSONError: Trailing comma in object at 3:1 in foo.json
=======
JSONError: Trailing comma in object in foo.json:3:1
>>>>>>> Stashed changes
}
^
*/


<<<<<<< Updated upstream
// you can also add the filename at a later point
=======
// You can also add the filename at a later point
>>>>>>> Stashed changes
try {
	parseJson(json);
} catch (err) {
	err.fileName = 'foo.json';
	throw err;
}
/*
<<<<<<< Updated upstream
JSONError: Trailing comma in object at 3:1 in foo.json
=======
JSONError: Trailing comma in object in foo.json:3:1
>>>>>>> Stashed changes
}
^
*/
```

## API

### parseJson(input, [reviver], [filename])

#### input

Type: `string`

#### reviver

<<<<<<< Updated upstream
Type: `function`
=======
Type: `Function`
>>>>>>> Stashed changes

Prescribes how the value originally produced by parsing is transformed, before being returned. See [`JSON.parse` docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Using_the_reviver_parameter
) for more.

#### filename

Type: `string`

Filename displayed in the error message.


## License

<<<<<<< Updated upstream
MIT © [Sindre Sorhus](http://sindresorhus.com)
=======
MIT © [Sindre Sorhus](https://sindresorhus.com)
>>>>>>> Stashed changes
